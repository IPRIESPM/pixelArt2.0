(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function o(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(l){if(l.ep)return;l.ep=!0;const r=o(l);fetch(l.href,r)}})();const L=()=>{const t=new Date().getHours(),o="Realizado por: @altaskur";return t>=6&&t<12?"¡Buenos días!":t>=12&&t<20?"¡Buenas tardes!":`¡Buenas noches! ${o}`},m=(e=!1)=>{const t=document.createElement("div");t.classList.add("alert"),e||(e=L()),t.textContent=e,setTimeout(()=>{t.remove()},2e3);const o=document.querySelector("body");o.querySelector("div.alert")&&o.querySelector("div.alert").remove(),o.appendChild(t)},h=(e,t)=>{e.draw&&e.tool==="pen"&&(t.style.backgroundColor=e.color),e.draw&&e.tool==="eraser"&&(t.style.backgroundColor=""),e.draw&&!e.tool&&(m("Selecciona primero una herramienta, Melón"),e.draw=!1),e.draw&&!e.color&&(m("Selecciona un color de tu izquierda, Melón"),e.draw=!1)},g=(e,t)=>{t.target.tagName==="TD"&&h(e,t.target)},C=()=>{const e=document.createElement("td");return e.classList.add("cell"),e},x=()=>{const e=document.createElement("tr");return e.classList.add("row"),e},f=e=>{const t=document.querySelector("body");t.querySelector("table")&&t.querySelector("table").remove();const o=document.createElement("table");o.classList.add("table"),o.addEventListener("click",()=>{e.draw=!e.draw}),o.addEventListener("mousemove",n=>{g(e,n)});for(let n=0;n<e.resolution.y;n+=1){const l=x();for(let r=0;r<e.resolution.x;r+=1){const c=C();l.appendChild(c)}o.appendChild(l)}return o},w=e=>{document.querySelectorAll(".color-pallete div").forEach(o=>{o.classList.contains("active")&&o.classList.remove("active")}),e.childNodes[0].classList.add("active")},T=(e,t)=>{w(e);const{color:o}=e.dataset;t.color=o},S=e=>{const t=document.createElement("div");if(e===null)return t.style.backgroundColor="#fff",t.dataset.color="empty",t.innerHTML='<i class="bi bi-plus-circle-dotted"></i>',t;t.style.backgroundColor=e,t.dataset.color=e;const o=document.createElement("div");return o.classList.add("selected"),t.appendChild(o),t},q=(e,t)=>{["#104b83","#b7482d","#0092d0","#d07141","#2adeec","#e1cba2","#f5f5f5","#da9f6d","#b8c4d4","#b16c4d","#8595ae","#6d3c37","#566584","#3d252f","#384162","#9c2430","#242841","#da3940","#171324","#ee7121","#f50141","#f4a733","#643667","#f3de5e","#ae4d82","#60bf4b","#deb08f","#24593f","#b88064","#17393b",null,null,null,null,null,null,null,null,null,null,null,null].forEach(n=>{const l=S(n);e.appendChild(l)}),e.addEventListener("click",n=>{n.target.tagName==="DIV"&&T(n.target,t)})},A=[["pen","bi bi-pencil-fill",!0],["eraser","bi bi-eraser-fill"],["reset","bi bi-arrow-repeat"]],M=()=>{document.querySelectorAll("td.cell").forEach(t=>{t.style.backgroundColor=""})},v=e=>{e.tool=!1,e.draw=!1,console.table(e)},k=(e,t)=>{document.querySelectorAll("aside.tools .tool").forEach(l=>{l.classList.remove("active")}),v(t);const n=e.dataset.tool;e.classList.add("active"),t.tool=n,n==="reset"&&setTimeout(()=>{e.classList.remove("active"),v(t)},100),console.table(t)},N=(e,t)=>{const[o,n,l]=e,r=document.createElement("div");return r.classList.add("tool"),r.dataset.tool=o,r.addEventListener("click",c=>{c.currentTarget.dataset.tool==="reset"&&M(),k(c.currentTarget,t)}),r.innerHTML=`<i class="${n}"></i>`,l&&r.classList.add("active"),r},B=(e,t)=>{A.forEach(o=>{const n=N(o,t);e.appendChild(n)})},P=(e,t)=>{const o=document.createElement("div");o.classList.add("modal"),o.addEventListener("click",E=>{E.target.classList.contains("bi-x-lg")&&o.remove(),E.target.classList.contains("modal")&&o.remove()});const n=document.createElement("div");n.classList.add("modal-content");const l=document.createElement("header");l.classList.add("modal-header"),l.innerText="Menu de opciones";const r=document.createElement("span");r.innerHTML='<i class="bi bi-x-lg"></i>';const c=document.createElement("div");c.classList.add("modal-body");const d=document.createElement("label");d.setAttribute("for","x"),d.innerText="ancho (px)";const s=document.createElement("input");s.setAttribute("type","text"),s.setAttribute("placeholder","X"),s.setAttribute("id","x"),s.value=t.resolution.x;const i=document.createElement("label");i.setAttribute("for","y"),i.innerText="alto (px)";const a=document.createElement("input");a.setAttribute("type","text"),a.setAttribute("placeholder","Y"),a.value=t.resolution.y;const b=document.createElement("fieldset"),u=document.createElement("button");u.innerText="Cambiar resolución",u.addEventListener("click",()=>{t.resolution.x=s.value,t.resolution.y=a.value,console.table(t),f(t),e.appendChild(f(t))});const y=document.createElement("div");b.append(u,y),c.append(d,s,i,a,b),l.appendChild(r),n.append(l,c),o.appendChild(n),e.appendChild(o)},H=(e,t)=>{const o=document.createElement("div");o.classList.add("options-container"),o.addEventListener("click",()=>{P(e,t)});for(let n=0;n<3;n+=1){const l=document.createElement("div");l.classList.add("line"),o.appendChild(l)}e.appendChild(o)};window.onload=()=>{const e={resolution:{x:50,y:30},color:null,draw:!1,tool:"pen"},t=document.querySelector("main");t.appendChild(f(e)),m(!1);const o=document.querySelector("aside.color-pallete");q(o,e);const n=document.querySelector("aside.tools");B(n,e),H(t,e)};
